{
  "permissions": {
    "allow": [
      "Bash(npm install:*)",
      "Bash(npx prisma generate:*)",
      "Bash(npx nest build:*)",
      "Bash(docker compose:*)",
      "Bash(npx next build:*)",
      "Bash(npx tsc:*)",
      "Bash(npm run build:*)",
      "Bash(dir C:claudestory-togetherbackendsrc)",
      "Bash(cmd /c \"dir C:\\\\claude\\\\story-together\\\\backend\\\\src\")",
      "Bash(cmd /c \"dir C:\\\\claude\\\\story-together\")",
      "Bash(cmd /c \"dir /b C:\\\\claude\\\\story-together 2>&1\")",
      "Bash(powershell -Command \"Get-ChildItem -Path ''C:\\\\claude\\\\story-together'' -Force | Select-Object Name, Length, LastWriteTime\")",
      "Bash(powershell -Command:*)",
      "Bash(powershell -NoProfile -Command \"Set-Location ''C:\\\\claude\\\\story-together\\\\backend''; $env:PATH = $env:PATH + '';C:\\\\Program Files\\\\nodejs''; npm install @nestjs/websockets @nestjs/platform-socket.io socket.io\")",
      "Bash(powershell -NoProfile -Command \"Set-Location ''C:\\\\claude\\\\story-together\\\\backend''; npm install ''@nestjs/websockets@^10.0.0'' ''@nestjs/platform-socket.io@^10.0.0'' socket.io 2>&1\")",
      "Bash(powershell -NoProfile -Command \"Set-Location ''C:\\\\claude\\\\story-together\\\\backend''; npm install ''@nestjs/websockets@^10.0.0'' ''@nestjs/platform-socket.io@^10.0.0'' socket.io --legacy-peer-deps 2>&1\")",
      "Bash(powershell -NoProfile -Command:*)",
      "Bash(powershell -NoProfile:*)",
      "Bash(dir:*)",
      "Bash(echo:*)",
      "Bash(cmd /c \"dir C:\\\\claude\\\\story-together\\\\backend\\\\src\\\\ai\")",
      "Bash(cmd /c \"type C:\\\\claude\\\\story-together\\\\docs\\\\ai-prompts.md\")",
      "Bash(cmd /c:*)",
      "Bash(node -e \"const {execSync}=require\\(''child_process''\\); try{execSync\\(''node_modules/.bin/tsc --noEmit'',{stdio:''pipe''}\\)}catch\\(e\\){console.log\\(e.stdout?.toString\\(\\)||''''\\); console.log\\(e.stderr?.toString\\(\\)||''''\\)}\")",
      "Bash(git init:*)",
      "Bash(git -C \"C:/claude/story-together\" status --short)",
      "Bash(git --version:*)",
      "Bash(git config:*)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(git -C \"C:/claude/story-together\" log --oneline -3)",
      "Bash(git -C \"C:/claude/story-together\" log --oneline -1)",
      "Bash(git -C \"C:/claude/story-together\" rev-list --count HEAD)",
      "Bash(git -C \"C:/claude/story-together\" add README.md)",
      "Bash(git -C \"C:/claude/story-together\" commit -m \"docs: add README.md\n\nCo-Authored-By: Claude Sonnet 4.6 <noreply@anthropic.com>\")",
      "Bash(docker info:*)",
      "Bash(docker:*)",
      "Bash(node --version:*)",
      "Bash(npm:*)",
      "Bash(test:*)",
      "Bash(node -e:*)",
      "Bash(tasklist:*)",
      "Bash(pg_isready:*)",
      "Bash(psql:*)",
      "Bash(where:*)",
      "Bash(sc query:*)",
      "Bash(curl:*)",
      "Bash(docker-compose:*)",
      "Bash(winget:*)",
      "Bash(choco --version:*)",
      "Bash(wsl --status:*)",
      "Bash(export PATH=\"$PATH:/c/Program Files/Docker/Docker/resources/bin\")",
      "Bash(\"/c/Program Files/Docker/Docker/resources/bin/docker.exe\" version)",
      "Bash(powershell -ExecutionPolicy Bypass -Command \"Set-ExecutionPolicy RemoteSigned -Scope CurrentUser -Force; Invoke-RestMethod get.scoop.sh | Invoke-Expression\")",
      "Bash(powershell -ExecutionPolicy Bypass -Command \"& ''$env:USERPROFILE\\\\scoop\\\\shims\\\\scoop.ps1'' install postgresql 2>&1\")",
      "Bash(powershell -ExecutionPolicy Bypass -Command:*)",
      "Bash(powershell -ExecutionPolicy Bypass -NonInteractive -Command:*)",
      "Bash(tr:*)",
      "Bash(powershell.exe -ExecutionPolicy Bypass -NoProfile -Command \"echo ''TEST_POWERSHELL''; scoop --version\")",
      "Bash(powershell.exe -ExecutionPolicy Bypass -NoProfile -Command \"\n$scoopHome = Join-Path $env:USERPROFILE ''scoop''\nWrite-Host \"\"Scoop home: $scoopHome\"\"\nif \\(Test-Path $scoopHome\\) {\n  Write-Host ''Scoop directory found!''\n  Get-ChildItem $scoopHome | Select-Object Name\n} else {\n  Write-Host ''Scoop not found at expected path''\n  Write-Host \"\"USERPROFILE: $env:USERPROFILE\"\"\n}\n\")",
      "Bash(powershell.exe -ExecutionPolicy Bypass -NoProfile -Command \"Test-Path \\(Join-Path $env:USERPROFILE ''scoop''\\)\")",
      "Bash(powershell.exe -ExecutionPolicy Bypass -NoProfile -Command \"Test-Path ''C:\\\\Users\\\\삼성전자\\\\scoop''\")",
      "Bash(powershell.exe -ExecutionPolicy Bypass -NoProfile -Command \"& ''C:\\\\Users\\\\삼성전자\\\\scoop\\\\shims\\\\scoop.ps1'' install postgresql 2>&1\")",
      "Bash(powershell.exe -ExecutionPolicy Bypass -NoProfile -Command \"Test-Path ''C:\\\\Users\\\\삼성전자\\\\scoop\\\\apps\\\\postgresql''\")",
      "Bash(powershell.exe -ExecutionPolicy Bypass -NoProfile -Command \"Get-ChildItem ''C:\\\\Users\\\\삼성전자\\\\scoop\\\\apps\\\\postgresql\\\\current\\\\bin'' | Select-Object Name\")",
      "Bash(powershell.exe -ExecutionPolicy Bypass -NoProfile -Command \"Get-ChildItem ''C:\\\\Users\\\\삼성전자\\\\scoop\\\\apps\\\\postgresql''\")",
      "Bash(powershell.exe -ExecutionPolicy Bypass -NoProfile -Command \"Get-ChildItem ''C:\\\\Users\\\\삼성전자\\\\scoop\\\\apps\\\\postgresql\\\\18.2'' | Select-Object Name\")",
      "Bash(powershell.exe -ExecutionPolicy Bypass -NoProfile -Command \"\nExpand-Archive -Path ''C:\\\\Users\\\\삼성전자\\\\scoop\\\\apps\\\\postgresql\\\\18.2\\\\postgresql-18.2-1-windows-x64-binaries.zip'' -DestinationPath ''C:\\\\pgsql'' -Force\nWrite-Host ''Done''\n\")",
      "Bash(powershell.exe -ExecutionPolicy Bypass -NoProfile -Command \"Get-ChildItem ''C:\\\\pgsql\\\\pgsql\\\\bin'' | Where-Object { $_.Name -in @\\(''psql.exe'',''pg_ctl.exe'',''initdb.exe'',''postgres.exe''\\) } | Select-Object Name\")",
      "Bash(powershell.exe -ExecutionPolicy Bypass -NoProfile -Command \"Test-Path ''C:\\\\pgsql\\\\pgsql\\\\bin\\\\initdb.exe''\")",
      "Bash(powershell.exe -ExecutionPolicy Bypass -NoProfile -Command \"\nNew-Item -ItemType Directory -Path ''C:\\\\pgsql\\\\data'' -Force | Out-Null\nWrite-Host ''Data dir created''\n\")",
      "Bash(powershell.exe -ExecutionPolicy Bypass -NoProfile -Command \"\n& ''C:\\\\pgsql\\\\pgsql\\\\bin\\\\initdb.exe'' -D ''C:\\\\pgsql\\\\data'' -U postgres -E UTF8 --locale=C 2>&1\n\")",
      "Bash(powershell.exe -ExecutionPolicy Bypass -NoProfile -Command \"\n& ''C:\\\\pgsql\\\\pgsql\\\\bin\\\\pg_ctl.exe'' -D ''C:\\\\pgsql\\\\data'' -l ''C:\\\\pgsql\\\\pglog.txt'' start 2>&1\n\")",
      "Bash(powershell.exe -ExecutionPolicy Bypass -NoProfile -Command \"\n& ''C:\\\\pgsql\\\\pgsql\\\\bin\\\\psql.exe'' -U postgres -c \"\"CREATE USER storyapp WITH PASSWORD ''storyapp123'';\"\" 2>&1\n& ''C:\\\\pgsql\\\\pgsql\\\\bin\\\\psql.exe'' -U postgres -c \"\"CREATE DATABASE storyapp OWNER storyapp;\"\" 2>&1\n& ''C:\\\\pgsql\\\\pgsql\\\\bin\\\\psql.exe'' -U postgres -c \"\"GRANT ALL PRIVILEGES ON DATABASE storyapp TO storyapp;\"\" 2>&1\n\")",
      "Bash(node_modules/.bin/prisma migrate:*)",
      "Bash(powershell.exe -ExecutionPolicy Bypass -NoProfile -Command \"Invoke-WebRequest -Uri ''http://localhost:4000'' -UseBasicParsing 2>&1 | Select-Object StatusCode, StatusDescription\")",
      "Bash(powershell.exe -ExecutionPolicy Bypass -NoProfile -Command \"\n$body = @{\n  name = ''김선생''\n  email = ''teacher@test.com''\n  password = ''teacher1234!''\n} | ConvertTo-Json\n\n$response = Invoke-WebRequest -Uri ''http://localhost:4000/api/auth/register-teacher'' -Method POST -Body $body -ContentType ''application/json'' -UseBasicParsing\nWrite-Host $response.StatusCode\nWrite-Host $response.Content\n\")",
      "Bash(powershell.exe -ExecutionPolicy Bypass -NoProfile -Command \"Invoke-WebRequest -Uri ''http://localhost:4000/api/auth/register-teacher'' -Method POST -Body ''{\"\"name\"\":\"\"김선생\"\",\"\"email\"\":\"\"teacher@test.com\"\",\"\"password\"\":\"\"teacher1234!\"\"}'' -ContentType ''application/json'' -UseBasicParsing | Select-Object -ExpandProperty Content\")",
      "Bash(powershell.exe -ExecutionPolicy Bypass -NoProfile -Command \"\n$body = Get-Content ''C:\\\\pgsql\\\\register.json'' -Raw\n$response = Invoke-WebRequest -Uri ''http://localhost:4000/api/auth/register-teacher'' -Method POST -Body $body -ContentType ''application/json'' -UseBasicParsing\n$response.Content\n\")",
      "Bash(powershell.exe -ExecutionPolicy Bypass -NoProfile -Command \"Invoke-WebRequest -Uri ''http://localhost:4000/auth/register-teacher'' -Method POST -Body \\(Get-Content ''C:\\\\pgsql\\\\register.json'' -Raw\\) -ContentType ''application/json'' -UseBasicParsing | Select-Object -ExpandProperty Content\")",
      "Bash(powershell.exe -ExecutionPolicy Bypass -NoProfile -Command \"Invoke-WebRequest -Uri ''http://localhost:4000/api/auth/login'' -Method POST -Body ''{\"\"loginId\"\":\"\"teacher@test.com\"\",\"\"password\"\":\"\"teacher1234!\"\"}'' -ContentType ''application/json'' -UseBasicParsing | Select-Object -ExpandProperty Content\")",
      "Bash(powershell.exe -ExecutionPolicy Bypass -NoProfile -Command \"Invoke-WebRequest -Uri ''http://localhost:4000/api/auth/login'' -Method POST -Body \\(Get-Content ''C:\\\\pgsql\\\\login.json'' -Raw\\) -ContentType ''application/json'' -UseBasicParsing | Select-Object -ExpandProperty Content\")",
      "Bash(powershell.exe -ExecutionPolicy Bypass -NoProfile -Command \"\n& ''C:\\\\pgsql\\\\pgsql\\\\bin\\\\psql.exe'' -U storyapp -d storyapp -c \"\"UPDATE \\\\\"\"User\\\\\"\" SET name=''김선생'' WHERE email=''teacher@test.com'';\"\" 2>&1\n\")",
      "Bash(powershell.exe -ExecutionPolicy Bypass -NoProfile -Command \"& ''C:\\\\pgsql\\\\pgsql\\\\bin\\\\psql.exe'' -U storyapp -d storyapp -f ''C:\\\\pgsql\\\\fix_name.sql'' 2>&1\")",
      "Bash(powershell.exe -ExecutionPolicy Bypass -NoProfile -Command \"& ''C:\\\\pgsql\\\\pgsql\\\\bin\\\\psql.exe'' -U storyapp -d storyapp -c ''SELECT id, email, name, role FROM \"\"User\"\";'' 2>&1\")",
      "Bash(powershell.exe -ExecutionPolicy Bypass -NoProfile -Command \"& ''C:\\\\pgsql\\\\pgsql\\\\bin\\\\psql.exe'' -U storyapp -d storyapp -f ''C:\\\\pgsql\\\\check.sql'' 2>&1\")",
      "Bash(powershell.exe -ExecutionPolicy Bypass -NoProfile -Command \"\n$loginRes = Invoke-WebRequest -Uri ''http://localhost:4000/api/auth/login'' -Method POST -Body \\(Get-Content ''C:\\\\pgsql\\\\login.json'' -Raw\\) -ContentType ''application/json'' -UseBasicParsing\n$token = \\($loginRes.Content | ConvertFrom-Json\\).data.accessToken\nWrite-Host $token\n\")",
      "Bash(powershell.exe -ExecutionPolicy Bypass -NoProfile -File \"C:\\\\pgsql\\\\setup.ps1\")",
      "Bash(powershell.exe -ExecutionPolicy Bypass -NoProfile -Command \"& ''C:\\\\pgsql\\\\pgsql\\\\bin\\\\psql.exe'' -U storyapp -d storyapp -f ''C:\\\\pgsql\\\\check2.sql'' 2>&1\")",
      "Bash(C:\\\\pgsql\\\\bin\\\\psql.exe:*)",
      "Bash(\"/c/pgsql/bin/psql.exe\" -U storyapp -d storyapp -c \"SELECT id, name, \"\"loginId\"\", role FROM \"\"User\"\" WHERE role=''student'' ORDER BY \"\"createdAt\"\";\")",
      "Bash(powershell.exe -Command \"& ''C:\\\\pgsql\\\\bin\\\\psql.exe'' -U storyapp -d storyapp -c \"\"SELECT id, name, loginId, role FROM \\\\\"\"User\\\\\"\" WHERE role=''student'';\"\"\")",
      "Bash(powershell.exe -Command \"Get-ChildItem C:\\\\pgsql\\\\bin\"\")",
      "Bash(powershell.exe -Command \"dir C:\\\\pgsql\\\\bin\")",
      "Bash(cmd.exe /c \"dir C:\\\\pgsql\\\\bin\")",
      "Bash(cmd.exe /c \"C:\\\\pgsql\\\\pgsql\\\\bin\\\\psql.exe -U storyapp -d storyapp -f C:\\\\pgsql\\\\cleanup.sql\")",
      "Bash(cmd.exe /c \"set PGPASSWORD=storyapp123&& C:\\\\pgsql\\\\pgsql\\\\bin\\\\psql.exe -U storyapp -d storyapp -f C:\\\\pgsql\\\\cleanup.sql\")",
      "Bash(cmd.exe /c \"set PGPASSWORD=storyapp123 && C:\\\\pgsql\\\\pgsql\\\\bin\\\\psql.exe -U storyapp -h localhost -d storyapp -c \"\"SELECT count\\(*\\) FROM \\\\\"\"User\\\\\"\" WHERE role=''student'';\"\"\")",
      "Bash(node:*)",
      "Bash(npx prisma migrate dev:*)",
      "Bash(npx prisma migrate deploy:*)",
      "Bash(npx prisma db push:*)",
      "Bash(taskkill:*)",
      "Bash(powershell.exe -Command \"Stop-Process -Name node -Force -ErrorAction SilentlyContinue; Start-Sleep -Seconds 1; Write-Host ''done''\")",
      "Bash(npx ts-node:*)",
      "Bash(start //B npm run start:dev)",
      "Bash(/c/pgsql/test-branch-session.js:*)",
      "Bash(MSYS_NO_PATHCONV=1 npx --prefix:*)",
      "Bash(\"C:/claude/story-together/backend/node_modules/.bin/tsc\" --noEmit -p \"C:/claude/story-together/backend/tsconfig.json\")",
      "Bash(\"C:/claude/story-together/frontend/node_modules/.bin/tsc\" --noEmit -p \"C:/claude/story-together/frontend/tsconfig.json\")",
      "Bash(printf:*)",
      "Bash(\"C:/claude/story-together/backend/node_modules/.bin/tsc\" --version)",
      "Bash(\"C:/claude/story-together/frontend/node_modules/.bin/tsc\" --version)",
      "Bash(powershell.exe -NoProfile -Command \"\n$backendTsc = ''C:\\\\claude\\\\story-together\\\\backend\\\\node_modules\\\\.bin\\\\tsc.cmd''\n$backendConfig = ''C:\\\\claude\\\\story-together\\\\backend\\\\tsconfig.json''\n$frontendTsc = ''C:\\\\claude\\\\story-together\\\\frontend\\\\node_modules\\\\.bin\\\\tsc.cmd''\n$frontendConfig = ''C:\\\\claude\\\\story-together\\\\frontend\\\\tsconfig.json''\n\nWrite-Host ''=== BACKEND TSC CHECK ===''\n$backendResult = & $backendTsc --noEmit -p $backendConfig 2>&1\nif \\($LASTEXITCODE -eq 0\\) {\n    Write-Host ''RESULT: PASS \\(0 errors\\)''\n} else {\n    Write-Host \"\"RESULT: FAIL \\(exit code $LASTEXITCODE\\)\"\"\n    $backendResult | ForEach-Object { Write-Host $_ }\n}\n\nWrite-Host ''''\nWrite-Host ''=== FRONTEND TSC CHECK ===''\n$frontendResult = & $frontendTsc --noEmit -p $frontendConfig 2>&1\nif \\($LASTEXITCODE -eq 0\\) {\n    Write-Host ''RESULT: PASS \\(0 errors\\)''\n} else {\n    Write-Host \"\"RESULT: FAIL \\(exit code $LASTEXITCODE\\)\"\"\n    $frontendResult | ForEach-Object { Write-Host $_ }\n}\n\")",
      "Bash(powershell.exe -NoProfile -Command \"\nSet-Content -Path ''C:\\\\Users\\\\Public\\\\run_tsc.ps1'' -Value @''\n$backendTsc = \"\"C:\\\\claude\\\\story-together\\\\backend\\\\node_modules\\\\.bin\\\\tsc.cmd\"\"\n$backendConfig = \"\"C:\\\\claude\\\\story-together\\\\backend\\\\tsconfig.json\"\"\n$frontendTsc = \"\"C:\\\\claude\\\\story-together\\\\frontend\\\\node_modules\\\\.bin\\\\tsc.cmd\"\"\n$frontendConfig = \"\"C:\\\\claude\\\\story-together\\\\frontend\\\\tsconfig.json\"\"\n\nWrite-Host \"\"=== BACKEND TSC CHECK ===\"\"\n$backendResult = \\(& $backendTsc --noEmit -p $backendConfig 2>&1\\)\n$backendExit = $LASTEXITCODE\nif \\($backendExit -eq 0\\) { Write-Host \"\"RESULT: PASS \\(0 errors\\)\"\" } else { Write-Host \"\"RESULT: FAIL \\(exit $backendExit\\)\"\"; $backendResult }\n\nWrite-Host \"\"\"\"\nWrite-Host \"\"=== FRONTEND TSC CHECK ===\"\"\n$frontendResult = \\(& $frontendTsc --noEmit -p $frontendConfig 2>&1\\)\n$frontendExit = $LASTEXITCODE\nif \\($frontendExit -eq 0\\) { Write-Host \"\"RESULT: PASS \\(0 errors\\)\"\" } else { Write-Host \"\"RESULT: FAIL \\(exit $frontendExit\\)\"\"; $frontendResult }\n''@\nWrite-Host ''Script written''\n\")",
      "Bash(powershell.exe -NoProfile -ExecutionPolicy Bypass -File \"C:\\\\Users\\\\Public\\\\run_tsc.ps1\")",
      "Bash(powershell.exe -NoProfile -Command \"Write-Host ''ps alive''\")",
      "Bash(powershell.exe -NoProfile -Command \"\n$b = ''C:\\\\claude\\\\story-together\\\\backend\\\\node_modules\\\\.bin\\\\tsc.cmd''\n$bc = ''C:\\\\claude\\\\story-together\\\\backend\\\\tsconfig.json''\nWrite-Host ''=== BACKEND ===''\n$br = \\(& $b --noEmit -p $bc 2>&1\\)\nWrite-Host \"\"Exit: $LASTEXITCODE\"\"\n$br | ForEach-Object { Write-Host $_ }\n\")",
      "Bash(status=$?)",
      "Bash(powershell -ExecutionPolicy Bypass -File:*)",
      "Bash(powershell -ExecutionPolicy Bypass -NonInteractive -File:*)",
      "Bash(python3 -c \"\ncontent = ''''''Set-Location \"\"C:\\\\\\\\claude\\\\\\\\story-together\\\\\\\\backend\"\"\n$out = npx tsc --noEmit 2>&1\n$out | Out-File -FilePath \"\"C:\\\\\\\\claude\\\\\\\\story-together\\\\\\\\backend_out.txt\"\" -Encoding utf8\n''''''\nwith open\\(''C:/claude/story-together/run_tsc.ps1'', ''w'', encoding=''utf-8''\\) as f:\n    f.write\\(content\\)\nprint\\(''written''\\)\n\")",
      "Bash(python:*)",
      "Bash(git remote add:*)",
      "Bash(git push:*)",
      "Bash(/c/pgsql/pgsql/bin/pg_ctl.exe:*)",
      "Bash(cmd.exe /c start http://localhost:3000)",
      "WebSearch",
      "WebFetch(domain:ai.google.dev)",
      "WebFetch(domain:www.npmjs.com)"
    ]
  }
}
